<div align="center">
    <img width="250" height="150" alt="Image" src="https://github.com/user-attachments/assets/3fe82311-adcb-4a16-a950-13870dc4413f" />
</div>

# üåç  EncurtadorURL - Spring Boot, MongoDB e Redis

![Badge Conclu√≠do](https://img.shields.io/badge/STATUS-CONCLU√çDO-brightgreen?style=for-the-badge)

![Badge Spring Boot](https://img.shields.io/badge/Spring_Boot-6DB33F?style=for-the-badge&logo=spring-boot&logoColor=white)
![Badge MongoDB](https://img.shields.io/badge/MongoDB-47A248?style=for-the-badge&logo=mongodb&logoColor=white)
![Badge Redis](https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white)
![Badge Java](https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white)
![Badge Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)

![Badge License](http://img.shields.io/static/v1?label=LICENSE&message=MIT&color=BLUE&style=for-the-badge)

## üìù Descri√ß√£o do Projeto

Uma API RESTful desenvolvida em Java com Spring Boot que tem como objetivo encurtar URLs longas, tornando-as mais amig√°veis e f√°ceis de compartilhar (semelhante a servi√ßos como Bitly). O sistema recebe um link original, gera um c√≥digo curto ofuscado e √∫nico, e realiza o redirecionamento autom√°tico quando o link curto √© acessado.

## üéü Funcionalidades:

* **Gera√ß√£o Segura de Hashes:** Utiliza a biblioteca gen√©rica Hashids (com Base 62) para transformar IDs num√©ricos em strings curtas, √∫nicas e n√£o sequenciais, evitando previsibilidade.

* **Valida√ß√£o de dados:** Para garantir a integridade do sistema e evitar o processamento de requisi√ß√µes malformadas, ele impedir que valores nulos, vazio at√© em branco seja processados.

* **Redirecionamento Autom√°tico (GET /{codigoCurto}):** Ao acessar o c√≥digo gerado, a API busca a URL original no banco de dados e redireciona o usu√°rio perfeitamente (HTTP Status 302 Found).

* **Encurtamento de URL (POST /encurtar):** Recebe uma URL longa via JSON e retorna um objeto contendo a nova URL encurtada.

* **Ranking em Tempo Real (Top 100):** Utiliza a estrutura *Sorted Sets* (ZSet) do banco de dados em mem√≥ria **Redis** para computar cada clique nos links. A rota `GET /ranking` devolve as 100 URLs mais acessadas instantaneamente, garantindo alt√≠ssima performance sem onerar o banco de dados principal (MongoDB).

* **M√©tricas de Visitantes √önicos (Analytics):** Implementa o algoritmo avan√ßado **HyperLogLog** no Redis para rastrear endere√ßos de IP √∫nicos que acessam os links curtos. Permite consultar o engajamento real de uma URL na rota `GET /{codigoCurto}/estatisticas` com um consumo de mem√≥ria RAM min√∫sculo e tempo de execu√ß√£o constante $O(1)$, suportando milh√µes de acessos.

## üõ†Ô∏è Tecnologias e Arquitetura

* **Back-End: Java 21 e Spring Boot 3:** Camada de aplica√ß√£o baseada em arquitetura RESTful. Respons√°vel pela exposi√ß√£o dos endpoints HTTP, tratamento e valida√ß√£o de requisi√ß√µes (Bean Validation), aplica√ß√£o das regras de neg√≥cio e gera√ß√£o de identificadores ofuscados utilizando Hashids.

* **Banco de Dados Principal: MongoDB:** Banco de dados orientado a documentos utilizado como storage prim√°rio. Armazena de forma persistente e indexada a entidade da URL, contendo: URL original, c√≥digo encurtado, metadados e timestamp de cria√ß√£o. Otimizado para opera√ß√µes de leitura e escrita com baixa lat√™ncia, garantindo escalabilidade horizontal.

* **Banco de Dados em Mem√≥ria: Redis:** Camada de Cache e Analytics. Utilizado para processamento de m√©tricas complexas em tempo real, absorvendo o impacto de opera√ß√µes pesadas (como contagem de cliques e visitantes) e reduzindo drasticamente a carga de leitura/escrita no MongoDB.

* **Infraestrutura: Docker Compose:** Ambiente conteinerizado para padroniza√ß√£o e isolamento dos servi√ßos (API, MongoDB e Redis).
## üí¨ Observa√ß√£o sobre o reposit√≥rio

Ah, bem observado! Eu tinha colocado um link gen√©rico no passo a passo anterior, mas o correto √© exatamente esse do seu reposit√≥rio:

https://github.com/victinhoos/EncurtadorURLs.git

Sobre o ‚Äúfaltou o qu√™?‚Äù: para o seu README ficar **100% √† prova de recrutadores e desenvolvedores S√™niores**, faltou apenas mostrar **como usar a API**.

Quem entra no seu GitHub precisa saber quais s√£o as rotas e como mandar os dados sem ter que abrir o c√≥digo Java para ler. N√≥s chamamos isso de **Documenta√ß√£o dos Endpoints**.

---


```bash
git clone https://github.com/victinhoos/EncurtadorURLs.git
```

---

## üì° Documenta√ß√£o da API (Endpoints)

### 1. Encurtar uma URL

- **Rota:** `POST /encurtar`
- **Descri√ß√£o:** Recebe uma URL longa e devolve a entidade com o c√≥digo curto gerado.

**Corpo da Requisi√ß√£o (JSON):**

```json
{
  "url": "https://www.google.com"
}
```

**Resposta de Sucesso (201 Created):**

```json
{
  "idURL": "65b2a1f...",
  "url": "https://www.google.com",
  "encurtador": "x7K9p",
  "data": "2026-02-18"
}
```

---

### 2. Acessar URL Encurtada (Redirecionamento)

- **Rota:** `GET /{codigoCurto}`
- **Descri√ß√£o:** Busca a URL original no banco, registra as m√©tricas no Redis e redireciona o usu√°rio.
- **Exemplo:** `GET /x7K9p`
- **Resposta:** HTTP Status `302 (Found)` redirecionando para o site original.

---

### 3. Ver Ranking Top 100 URLs Mais Acessadas

- **Rota:** `GET /ranking`
- **Descri√ß√£o:** Retorna a lista das URLs curtas mais acessadas em tempo real, ordenada por quantidade de cliques.

**Resposta de Sucesso (200 OK):**

```json
[
  {
    "value": "x7K9p",
    "score": 150.0
  },
  {
    "value": "aB3dE",
    "score": 85.0
  }
]
```


---

### 4. Ver Estat√≠sticas de Visitantes √önicos

- **Rota:** `GET /{codigoCurto}/estatisticas`
- **Descri√ß√£o:** Retorna a quantidade aproximada de endere√ßos IP √∫nicos que acessaram o link, utilizando o HyperLogLog.

**Resposta de Sucesso (200 OK):**

```json
{
  "encurtador": "x7K9p",
  "visitantes_unicos": 42
}
```
